# V2 功能测试清单

## 🧪 测试项目

### 1. 认证功能
- [ ] 点击用户头像，弹出登录弹窗
- [ ] 登录/注册Tab切换正常
- [ ] 登录成功后刷新页面
- [ ] 登录后点击头像，显示"退出登录"确认框
- [ ] 确认框样式正常（非阻塞式，有动画）
- [ ] 登出成功

### 2. 历史记录加载
- [ ] 登录后自动显示骨架屏
- [ ] 历史任务卡片正常渲染
- [ ] 懒加载生效（滚动时加载图片）
- [ ] 任务卡片菜单（复制、删除、重新生成）可点击
- [ ] 删除确认框正常弹出
- [ ] 复制提示词成功（Toast提示）

### 3. 图片查看器
- [ ] 点击历史图片，打开查看器
- [ ] 查看器显示缩略图 + loading
- [ ] 原图加载完成后替换
- [ ] 点击背景/ESC键关闭查看器
- [ ] 下载按钮正常工作

### 4. 图片上传
- [ ] 主上传框可以上传图片
- [ ] 预览显示正常
- [ ] 删除按钮（×）正常工作
- [ ] 点击"+"添加上传行（最多3行）
- [ ] 删除行按钮正常工作
- [ ] 同slot的label同步显示预览

### 5. 图片生成 - 文本生图
- [ ] 输入提示词，选择数量和尺寸
- [ ] 点击生成按钮
- [ ] 显示加载占位符（数量正确）
- [ ] 图片流式显示（onProgress实时更新）
- [ ] 生成成功后显示完整图片
- [ ] 可以查看生成的图片

### 6. 图片生成 - 图生图
- [ ] 上传一张图片
- [ ] 关闭系列图模式
- [ ] 输入提示词
- [ ] 点击生成
- [ ] 生成成功（图片+提示词混合模式）

### 7. 图片生成 - 系列图
- [ ] 打开系列图模式
- [ ] 尺寸和数量自动重置到1:1和1
- [ ] 尺寸和数量选择被禁用（灰色）
- [ ] Toast提示"固定消耗2粒子币"
- [ ] 输入提示词，点击生成
- [ ] 生成成功（可能1-5张图，数量不确定）
- [ ] 图片正常显示（不是一直转圈）

### 8. 提示词优化
- [ ] 输入简单提示词
- [ ] 点击"优化"按钮
- [ ] Toast显示"正在优化..."
- [ ] 优化成功后，输入框内容更新
- [ ] Toast显示"提示词已优化"

### 9. Toast系统
- [ ] Toast提示显示在右上角
- [ ] 4种类型颜色正确（success绿、warning黄、error红、info蓝）
- [ ] 自动消失（默认3秒）
- [ ] 可以点击×关闭
- [ ] 多个Toast叠加显示

### 10. 暗黑模式
- [ ] 切换暗黑模式，所有样式正常
- [ ] 确认框在暗黑模式下样式正确
- [ ] Toast在暗黑模式下可见

---

## 🐛 已知问题

（暂无）

---

## 💡 测试提示

1. **清除浏览器缓存**
   - 强制刷新：Ctrl+Shift+R（Windows）/ Cmd+Shift+R（Mac）
   - 确保加载最新的JS/CSS（v=20251114013 / v=217）

2. **打开浏览器控制台**
   - F12 或 右键 → 检查
   - 查看Console日志，确认模块加载成功
   - 应该看到：`✅ V2应用初始化完成！`

3. **检查全局对象**
   - 在Console输入：`window.V2App`
   - 应该看到完整的应用对象，包含5个UI模块实例

4. **错误排查**
   - 如果某功能不工作，检查Console是否有红色错误
   - 确认旧版代码（`/frontend/static/`）未被修改
   - 确认版本号正确

---

## ✅ 测试完成标准

- [ ] 所有10个测试项目通过
- [ ] 无Console错误
- [ ] 功能与旧版一致
- [ ] 性能无明显下降
- [ ] 用户体验更好（Toast、确认框动画）

---

**测试时间：** _____________

**测试人：** _____________

**发现问题：** _____________
